<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Campus Facility Reservation</title>
  <link rel="stylesheet" href="https://rsms.me/inter/inter.css">
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="wrap">
    <div class="card">
      <div class="topbar">
        <div><h1>Campus Facility Reservation</h1></div>
        <div id="userInfo" class="small muted"></div>
      </div>

      <!-- Login / Signup -->
      <div id="authBox">
        <div class="card">
          <h3>Welcome Back</h3>

          <!-- Login Form -->
          <div id="loginForm">
            <label>Username</label>
            <input id="loginUser" type="text" placeholder="Enter username" />
            <label>Password</label>
            <input id="loginPass" type="password" placeholder="Enter password" />
            <div style="margin-top:16px; display:flex; gap:12px;">
              <button id="btnLogin" class="btn-primary">Login</button>
              <button id="showSignup" class="btn-ghost">Create Account</button>
            </div>
          </div>

          <!-- Signup Form -->
          <div id="signupForm" class="hidden">
            <label>Username</label>
            <input id="signupUser" type="text" placeholder="e.g. jdelaCruz" />
            <label>Password</label>
            <input id="signupPass" type="password" placeholder="Create password" />
            <label>Full Name</label>
            <input id="signupName" type="text" placeholder="Juan Dela Cruz" />
            <div style="margin-top:16px; display:flex; gap:12px;">
              <button id="btnSignup" class="btn-primary">Create Account</button>
              <button id="showLogin" class="btn-ghost">Back to Login</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Dashboard (shown after login) -->
      <div id="app" class="hidden">
        <div class="grid">
          <!-- Left: Facilities + Booking Form -->
          <div>
            <div class="card">
              <h3 style="margin:0 0 16px">Available Facilities</h3>
              <div id="facilityList"></div>
            </div>

            <div class="card">
              <h3 style="margin:0 0 16px">Make a Booking</h3>
              <div class="small muted">Selected: <strong id="selectedFacilityName">(none)</strong></div>

              <label>Date</label>
              <input id="date" type="date" />

              <label>From</label>
              <input id="from" type="time" />

              <label>To</label>
              <input id="to" type="time" />

              <label>Purpose / Notes</label>
              <textarea id="purpose" rows="2" placeholder="e.g. Group presentation"></textarea>

              <div style="margin-top:16px; display:flex; gap:12px;">
                <button id="btnBook" class="btn-primary">Submit Booking</button>
                <button id="btnClear" class="btn-ghost">Clear</button>
              </div>

              <div style="margin-top:12px" class="small muted" id="availabilityInfo">
                Select a facility and date to check availability.
              </div>
            </div>
          </div>

          <!-- Right: Reservations Table -->
          <div>
            <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:12px;">
              <h3 style="margin:0;">Reservations</h3>
              <div style="display:flex; gap:12px;">
                <select id="filterUser">
                  <option value="all">All Bookings</option>
                  <option value="mine">My Bookings Only</option>
                </select>
                <button id="openAdminModal" class="btn hidden">Admin Dashboard</button>
              </div>
            </div>

            <table>
              <thead>
                <tr>
                  <th>Facility</th>
                  <th>Date</th>
                  <th>Time</th>
                  <th>Booked By</th>
                  <th>Status</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody id="reservationsTbody"></tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Admin Modal -->
  <div id="adminModal" class="modal">
    <div class="modal-overlay" onclick="closeAdminModal()"></div>
    <div class="modal-content">
      <div class="modal-header">
        <h2>Admin Dashboard</h2>
        <button class="modal-close" onclick="closeAdminModal()">Ã—</button>
      </div>
      <div class="modal-body">
        <div class="card" style="margin:0; box-shadow:none; border:1px solid rgba(226,232,240,0.5);">
          <h3 style="margin-top:0">Manage Facilities</h3>
          <button id="btnAddFacility" class="btn-primary" style="margin-bottom:20px;">+ Add New Facility</button>

          <div id="facilityEditor" class="hidden" style="padding:24px; background:rgba(241,245,249,0.7); border-radius:18px; margin-bottom:24px;">
            <div style="display:grid; grid-template-columns:1fr 1fr; gap:16px;">
              <div><label>ID</label><input id="facId" placeholder="e.g. R102" /></div>
              <div><label>Name</label><input id="facName" placeholder="e.g. Room 102" /></div>
            </div>
            <label>Description</label>
            <input id="facDesc" placeholder="Lecture room, 30 seats" />
            <label>Image URL (optional)</label>
            <input id="facImg" placeholder="https://example.com/image.jpg" />
            <div style="margin-top:16px; display:flex; gap:12px;">
              <button id="btnSaveFacility" class="btn-primary">Save Facility</button>
              <button id="btnCancelFacility" class="btn-ghost">Cancel</button>
            </div>
          </div>

          <div id="currentFacilities"></div>
        </div>
      </div>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>


